# Домашнее задание к занятию "`«PostgreSQL»`" - `Бызгаев Александр`

---

### Задание 1

Используя Docker, поднимите инстанс PostgreSQL (версию 13).   
Данные БД сохраните в volume.  
Подключитесь к БД PostgreSQL, используя psql.  
Воспользуйтесь командой \? для вывода подсказки по имеющимся в psql управляющим командам.  
Найдите и приведите управляющие команды для:
- вывода списка БД,  
- подключения к БД,  
- вывода списка таблиц,  
- вывода описания содержимого таблиц,  
- выхода из psql.  

### Выполнения задания 1

1 **Создание Docker Volume**    
```bash
docker volume create postgres_data
```
2 **Запуск контейнера PostgreSQL:**      
```bash
docker run --name my_postgres -e POSTGRES_PASSWORD=mysecretpassword -d -p 5432:5432 -v postgres_data:/var/lib/postgresql/data postgres:13
```
3 **Подключение к БД PostgreSQL используя psql:**       
  - Сначала войдите в контейнер:  
```bash
docker exec -it my_postgres bash  
```
Затем подключитесь к PostgreSQL через psql, используя имя пользователя (по умолчанию postgres):  
```bash
psql -U postgres
```
4 **Вывод подсказки по управляющим командам в psql:**  
  - В psql выполните команду:
```bash
\?
```
5 **Найдите и приведите управляющие команды для:** 
  - вывода списка БД: \l  
  - подключения к БД: \connect db_name  
  - вывода списка таблиц: \dt  
  - удалить базу: drop database db_name;  
  - вывода описания(подробное) содержимого таблиц: \d+ table_name  
  - выхода из psql: \q либо exit  
  - справка: \?  

----

### Задание 2

Используя psql, создайте БД test_database.  
Изучите бэкап БД.  
Восстановите бэкап БД в test_database.  
Перейдите в управляющую консоль psql внутри контейнера.  
Подключитесь к восстановленной БД и проведите операцию ANALYZE для сбора статистики по таблице.  
Используя таблицу pg_stats, найдите столбец таблицы orders с наибольшим средним значением размера элементов в байтах.  
Приведите в ответе команду, которую вы использовали для вычисления, и полученный результат.  

----

### Выполнения задания 2  

Команда для вычисления:
```bash
SELECT attname, avg_width FROM pg_stats WHERE tablename='orders' ORDER BY avg_width DESC LIMIT 1;
```
























